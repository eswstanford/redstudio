<!doctype html>
<html>
<head data-ng-app data-ng-csp="">
  <meta charset="utf-8">
  <title>RED Studio</title>
  <meta name="description" content="Renewable Energy Design Studio" />
  <meta name="keywords" content="energy, sustainable, development, hydro, leaflet, esw, bootstrap, open source" />
  <meta name="author" content="ESW-Stanford - esw.stanford.edu" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/bootstrap.css" />
  <link rel="stylesheet" href="../css/redstudiostyle.css" />
  <link rel="stylesheet" href="../css/leaflet.css" />
  <link rel="stylesheet" href="../css/l.geosearch.css" />
  <script src="../js/angular.js"></script>
  <script src="../js/controllers.js"></script>
  <script src="../js/bootstrap.js"></script>
  <script src="../js/leaflet.js"></script>
  <script src="../js/l.control.geosearch.js"></script>
  <script src="../js/l.geosearch.provider.google.js"></script>
  <script type="text/javascript" src="../js/jquery.js"></script>
  <link href='http://fonts.googleapis.com/css?family=Actor' rel='stylesheet' type='text/css'>
  <style type="text/css">
      #loading {
        position: absolute;
        width: 220px;
        height: 19px;
        top: 50%;
        left: 50%;
        margin: -10px 0 0 -110px;
        z-index: 20001;
      }
      #loading .loading-indicator {
        height: auto;
        margin: 0;
      }
      .navbar .brand {
        font-size: 25px;
        font-family: 'Norican', serif;
        font-weight: bold;
        color: white;
      }
      .navbar .nav > li > a {
        padding: 13px 10px 11px;
      }
      .navbar .btn, .navbar .btn-group {
        margin-top: 8px;
      }
      .leaflet-popup-content-wrapper, .leaflet-popup-tip {
        background: #f7f7f7;
      }
      .leaflet-control-geoloc {
        background-image: url(img/location.png);
        -webkit-border-radius: 5px 5px 5px 5px;
        border-radius: 5px 5px 5px 5px;
      }
	  #map-frame {
	    border: 1px solid #ddd;
		border-radius: 5px;
		height: 400px;
		margin-top: 40px;
	  }
	  #instr-frame {
	    text-align: center;
		margin-top: 40px;
	  }
	  .btn-toolbar {
	    margin-left: auto;
		margin-right: auto;
        text-align: center;
	  }
	  #button-set-map {
	    visibility: hidden;
	  }
	  .pagination {
	    text-align: center;
	  }
    </style>
  
</head>
<body>

<!-- start: navigation bar -->
  <div class = "row-fluid" align:"center">
    <ul class="topbar">
      <li class="logo"><a href><img src = "../img/logo.png"></img></a> </li>
      <li class="location" class="active"><a href="location.html"><span class="topbar-icon icon-map"></span><span class="topbar-label">Location</span></a></li>
      <li class="simulator"><a href><span class="topbar-icon icon-gauge"></span><span class="topbar-label">Simulator</span></a></li>
      <li class="finance"><a href="finance1.html"><span class="topbar-icon icon-chart-line"></span><span class="topbar-label">Finance</span></a></li>
      <li class="social"><a href="FamilyProfile.html"><span class="topbar-icon icon-users"></span><span class="topbar-label">Profile</span></a></li>
      <li class="technology"><a href="technology.html"><span class="topbar-icon icon-flash"></span><span class="topbar-label">Technology</span></a></li>
  </ul>
  </div>
<!-- end: navigation bar -->

  <div class="container-fluid">
  
	<!-- start: map frame -->
  
	<div class="row-fluid">
	  <div class="span8 offset2" id="map-frame">

		<script>

			function getURLParameter(name) {
				return decodeURI(
					(RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,])[1]
				);
			}

			var regionParameter = getURLParameter('region');
			var region = (regionParameter === 'undefined') ? '' : regionParameter;

			// create map 
			var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png';
			var basemap = new L.TileLayer(cloudmadeUrl, {maxZoom: 18});
			
			var map = new L.Map('map-frame', {
			  layers: [basemap], 
			  center: new L.LatLng(-6, 106), zoom: 6
			});

			new L.Control.GeoSearch({
				provider: new L.GeoSearch.Provider.Google({
				  region: region
				})
			}).addTo(map);

			map.addControl(new L.Control.Scale());

		  </script>

      </div>
    </div>
	
	<!-- end: map frame -->
	
	<!-- start: instructions frame -->
	
	<div class="row-fluid">
	  <div class="span8 offset2" id="instr-frame">
	  </div>
	</div>
	
	<!-- end: instructions frame -->

    <!-- start: buttons -->
	
	<div class="row-fluid">
	
	  <div class="span12 button-set" id="button-set-map">
	  	<div class="btn-toolbar">
		  <button class="btn" id="btn-reset">Reset Map</button>
		</div>
	  </div>
		  
	  <div class="span12 button-set" id="button-set-site">
	    <div class="btn-toolbar">
		  <button class="btn" id="btn-site-nw">NW Site Boundary</button>
		  <button class="btn" id="btn-site-se">SE Site Boundary</button>
		  <button class="btn" id="btn-site-draw">Draw Boundary</button>
		  <button class="btn" id="btn-site-clear">Clear Markings</button>
		</div>
	  </div>
	  
	  <div class="span12 button-set" id="button-set-data">
	    <div class="btn-toolbar">
		  <button class="btn" id="btn-map">Use Map Data</button>
		  <button class="btn" id="btn-gis">Upload GIS Data</button>
		  <button class="btn" id="btn-contour">Upload Contour Map</button>
		</div>
	  </div>
 
	  <div class="span12 button-set" id="button-set-points">
	  	<div class="btn-toolbar">
          
		  <div class="btn-group">
		    <button class="btn" id="btn-pwrhouse">Powerhouse</button>
		    <button class="btn dropdown-toggle" data-toggle="dropdown">
		      <span class="caret"></span>
		    </button>
	        <ul class="dropdown-menu">
		      <li><a href="#">Upload Points</a></li>
		      <li><a href="#">View/Hide Points</a></li>
		      <li><a href="#">Edit Points Data</a></li>
            </ul>
		  </div>
		  
		  <div class="btn-group">
		    <button class="btn" id="btn-res">Residential</button>
		    <button class="btn dropdown-toggle" data-toggle="dropdown">
		      <span class="caret"></span>
		    </button>
	        <ul class="dropdown-menu">
		      <li><a href="#">Upload Points</a></li>
		      <li><a href="#">View/Hide Points</a></li>
		      <li><a href="#">Edit Points Data</a></li>
            </ul>
		  </div>
		  
		  <div class="btn-group">
		    <button class="btn" id="btn-prod">Productive</button>
		    <button class="btn dropdown-toggle" data-toggle="dropdown">
		      <span class="caret"></span>
		    </button>
	        <ul class="dropdown-menu">
		      <li><a href="#">Upload Points</a></li>
		      <li><a href="#">View/Hide Points</a></li>
		      <li><a href="#">Edit Points Data</a></li>
            </ul>
		  </div>
		  
		  <div class="btn-group">
		    <button class="btn" id="btn-comm">Community</button>
		    <button class="btn dropdown-toggle" data-toggle="dropdown">
		      <span class="caret"></span>
		    </button>
	        <ul class="dropdown-menu">
		      <li><a href="#">Upload Points</a></li>
		      <li><a href="#">View/Hide Points</a></li>
		      <li><a href="#">Edit Points Data</a></li>
            </ul>
		  </div>

		</div>
      </div>
		
    </div>

    <!-- end: buttons -->

  <script type="text/javascript">
  
    function reset() {
	  $('.button-set').hide();
	}
	
	function setInstructions(msg) {
	  $('#instr-frame').html(msg);
	}
	
	function showScreenMap() {
	  reset();
	  $('#button-set-map').show();
	  setInstructions('Enter your project location in the search field above');
	}
		
	function showScreenSite() {
	  reset();
	  $('#button-set-site').show();
	  setInstructions('Click buttons below to mark boundaries of site');
	}
	
	function showScreenData() {
	  reset();
	  $('#button-set-data').show();
	  setInstructions('Click a button below to choose elevation data method');
	}
	
	function showScreenPoints() {
	  reset();
	  $('#button-set-points').show();
	  setInstructions('Click buttons below to mark points of interest');
	}
	
	reset();
	showScreenMap();
	
	</script>
	
	<!-- start: page navigation -->
	
    <div class="row-fluid">
	
	  <div class="span12" id="page-nav">
	    <div class="pagination">
          <ul>
            <li><a href="#"><<</a></li>
            <li><a href="javascript:void(0);" onclick="showScreenMap();">1</a></li>
            <li><a href="javascript:void(0);" onclick="showScreenSite();">2</a></li>
            <li><a href="javascript:void(0);" onclick="showScreenData();">3</a></li>
            <li><a href="javascript:void(0);" onclick="showScreenPoints();">4</a></li>
            <li><a href="javascript:void(0);" onclick="showScreenPoints();">5</a></li>
            <li><a href="javascript:void(0);" onclick="showScreenPoints();">>></a></li>
          </ul>
		</div>
      </div>
	</div>
	
	<script>
	
	function getSearchLocation() {
	  var location = $('#search').val();
	  return location;
	}
	
	$('#search-form').submit(
	  function submitSearchLocation(e) {
	    e.preventDefault();
	    var location = getSearchLocation();
	    alert(location);
		setInstructions('Pan map to center on project location');
	});
	
	$('#btn-map').click(function(e) {
	  alert("clicked! ");
	  console.log(e);
	  e.preventDefault();
	});
	
	$('#btn-action').click(function(e) {
	  console.log("hi");
	  console.log(e);
	});
	
	$('dropdown.toggle').dropdown();
	
  </script>

  
</body>
</html>