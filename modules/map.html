<!doctype html>
<html lang="en">

<head data-ng-app data-ng-csp="">
  <meta charset="utf-8">
  <title>RED Studio</title>
  <meta name="description" content="Renewable Energy Design Studio" />
  <meta name="keywords" content="energy, sustainable, development, hydro, leaflet, esw, bootstrap, open source" />
  <meta name="author" content="ESW-Stanford - esw.stanford.edu" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/leaflet.css" />
  <link rel="stylesheet" href="../css/bootstrap.css">
  <link rel="stylesheet" href="../css/redstudio.css">
  <base target="_blank">
  <script src="../js/angular.js"></script>
  <script src="../js/leaflet.js"></script>
  <script src="../js/controllers.js"></script>
</head>

<body>

<div class="container-fluid"> <!-- start: bootstrap container -->
  <!-- start: navigation bar -->
  <div class="row-fluid">
    <div class="navbar navbar-fluid-top">
      <div class="navbar-inner">
        <div class="nav-collapse">
            <ul class="nav nav-tabs">
                <li><a href="home.html">
                  <img src="../img/icons/logo.png" width="50" height="50"></a>
                </li>
                <li><a href="save.html">
                  <img src="../img/icons/save.png" width="50" height="50"></a>
                </li>
                <li><a href="social.html">
                  <img src="../img/icons/social.png" width="50" height="50"></a>
                </li>
                <li class="active">
                  <a href="map.html"><img src="../img/icons/map.png" width="50" height="50"></a>
                </li>
                <li><a href="technology.html">
                  <img src="../img/icons/technology.png" width="50" height="50"></a>
                </li>
                <li><a href="simulator.html">
                  <img src="../img/icons/simulator.png" width="50" height="50"></a>
                </li>
                <li><a href="finance.html">
                  <img src="../img/icons/finance.png" width="50" height="50"></a>
                </li>
                <li><a href="schedule.html">
                  <img src="../img/icons/schedule.png" width="50" height="50"></a>
                </li>
                <li><a href="profile.html">
                  <img src="../img/icons/profile.png" width="50" height="50"></a>
                </li>
            </ul>
        </div>
      </div>
    </div>
<!-- end: navigation bar -->


<!-- start: interactive map -->
<div class="row-fluid">
  <div class="span8 offset2">
<div id="map" style="width: 50%; height: 100%; position: relative; margin: 10px; padding: 150px; z-index: 0;"></div>

<script>

    function getURLParameter(name) {
        return decodeURI(
            (RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,])[1]
        );
    }

    var regionParameter = getURLParameter('region');
    var region = (regionParameter === 'undefined') ? '' : regionParameter;

    /** 
     * create map 
     **/
    var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png';
    var basemap = new L.TileLayer(cloudmadeUrl, {maxZoom: 18});
    
    var map = new L.Map('map', {
      layers: [basemap], 
      center: new L.LatLng(-6, 106), zoom: 6

    });

        new L.Control.GeoSearch({
            provider: new L.GeoSearch.Provider.Google({
              region: region
            })
        }).addTo(map);

          map.addControl(new L.Control.Scale());

  </script>




    </div>
    </div>
  </div>
  </div>

<!-- end: interactive map -->

</div> <!-- end: bootstrap container -->

</body>
</html>